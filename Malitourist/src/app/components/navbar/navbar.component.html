<section class="ftco-section">
    <div class="container">
        <nav class="navbar navbar-fixed-top navbar-expand-lg ftco_navbar ftco-navbar-light" id="ftco-navbar">
            <div class="container">
                <a class="navbar-brand" [routerLink]="['/home']" routerLinkActive="router-link-active" ><img src="assets/img/logo.png" alt="Logo MaliTourist" class="logo"></a>

                <button class="navbar-toggler" type="button" data-toggle="collapse" data-target="#ftco-nav"
                    aria-controls="ftco-nav" aria-expanded="false" aria-label="Toggle navigation">
                    <span class="fa fa-bars"></span> Menu
                </button>

                <div class="collapse navbar-collapse" id="ftco-nav">
                    <ul class="navbar-nav ml-auto mr-md-3">
                        <li class="nav-item active"><a  href="/home" 
                            [routerLink]="['/home']" 
                            routerLinkActive="router-link-active"  
                            class="nav-link">Acceuil</a>
                        </li>
                        <li class="nav-item"><a class="nav-link" 
                            [routerLink]="['/region']" 
                            routerLinkActive="router-link-active" >Regions</a>
                        </li>
                        <!-- <li class="nav-item"><a class="nav-link">Pays</a>
                        </li> -->
                        <li class="nav-item"><a [routerLink]="['/signup']" 
                            routerLinkActive="router-link-active" 
                            class="nav-link" *ngIf="!user">Inscription</a>
                        </li>
                        <li class="nav-item"><a [routerLink]="['/dashboard']" routerLinkActive="router-link-active" class="nav-link"
                                *ngIf="user">Dashboard</a>
                        </li>
                        <li class="nav-item"><a [routerLink]="['/profile']" 
                            routerLinkActive="router-link-active" 
                            class="nav-link" *ngIf="user">{{user.username}}</a>
                        </li>

                        <!-- START Menu User dropdown -->
                        <li class="nav-item dropdown" *ngIf="user">
                                <a class="nav-link dropdown-toggle" href="#" id="navbarDropdown" 
                                role="button" data-bs-toggle="dropdown"
                                    aria-expanded="true">
                                    {{user.username}}
                                </a>
                                <ul class="dropdown-menu" aria-labelledby="navbarDropdownMenuLink">
                                    <li><a class="dropdown-item" [routerLink]="['/profile']" 
                                        routerLinkActive="router-link-active">Mon profil</a></li>
                                    <li><a class="dropdown-item" [routerLink]="['/dashboard']" 
                                        routerLinkActive="router-link-active">Dashboard</a></li>
                                </ul>
                        </li>
                        <!-- END Menu User dropdown -->

                        <li class="nav-item"><a [routerLink]="['/login']"
                             routerLinkActive="router-link-active"
                              class="nav-link" *ngIf="!user">Connexion</a>
                        </li>
                        <li class="nav-item"><button
                            routerLinkActive="router-link-active"  
                            class="nav-link" *ngIf="user" (click) = logout()>DÃ©connexion</button>
                        </li>
                    </ul>
                </div>
            </div>
        </nav>
        <!-- END nav -->
    </div>
</section>

<script>
    (function ($) {
        "use strict";
        $('nav .dropdown').hover(function () {
            var $this = $(this);
            $this.addClass('show');
            $this.find('> a').attr('aria-expanded', true);
            $this.find('.dropdown-menu').addClass('show');
        }, function () {
            var $this = $(this);
            $this.removeClass('show');
            $this.find('> a').attr('aria-expanded', false);
            $this.find('.dropdown-menu').removeClass('show');
        });
    })(jQuery);
</script>
